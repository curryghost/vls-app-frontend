<mat-dialog-content>
  <mat-icon mat-dialog-close>close</mat-icon>
  <h3 mat-dialog-title>Sign up form</h3>
  <form [formGroup]="signUpForm" (ngSubmit)="handleSignUp()" *ngIf="!pending">
    <p *ngIf="error">{{ error }}</p>
    <!--Name-->
    <mat-form-field appearance="outline" color="primary">
      <mat-label>Name</mat-label>
      <div class="input">
        <input type="text" matInput formControlName="name" />
        <mat-icon *ngIf="name?.valid && name?.touched">check_circle</mat-icon>
      </div>
      <mat-error *ngIf="name?.invalid && name?.touched">
        <mat-error *ngIf="name?.errors?.['required']">
          Name is required
        </mat-error>
        <mat-error *ngIf="name?.errors?.['minlength']">
          Minminum 5 characters
        </mat-error>
      </mat-error>
    </mat-form-field>
    <!--User Name-->
    <mat-form-field appearance="outline">
      <mat-label>User Name</mat-label>
      <div class="input">
        <input type="text" matInput formControlName="userName" />
        <mat-icon *ngIf="userName?.valid && userName?.touched"
          >check_circle</mat-icon
        >
      </div>
      <mat-error *ngIf="userName?.invalid && userName?.touched">
        <mat-error *ngIf="userName?.errors?.['required']">
          User Name is required
        </mat-error>
        <mat-error *ngIf="userName?.errors?.['minlength']">
          Minminum 5 characters
        </mat-error>
      </mat-error>
    </mat-form-field>
    <!--Email-->
    <mat-form-field appearance="outline">
      <mat-label> Email </mat-label>
      <div class="input">
        <input type="email" matInput formControlName="email" />
        <mat-icon *ngIf="email?.valid && email?.touched">check_circle</mat-icon>
      </div>
      <mat-error *ngIf="email?.invalid && email?.touched">
        <mat-error *ngIf="email?.errors?.['required']">
          User Name is required
        </mat-error>
        <mat-error *ngIf="email?.errors?.['email']"> Invalid email </mat-error>
      </mat-error>
    </mat-form-field>
    <!--Contact Number-->
    <mat-form-field appearance="outline">
      <mat-label>Contact Number</mat-label>
      <div class="input">
        <input type="text" matInput formControlName="number" />
        <mat-icon *ngIf="number?.valid && number?.touched"
          >check_circle</mat-icon
        >
      </div>
      <mat-error
        *ngIf="number?.invalid && number?.touched && number?.errors?.['required']"
      >
        Contact Number is required
      </mat-error>
    </mat-form-field>
    <!--Password-->
    <mat-form-field appearance="outline">
      <mat-label>Password</mat-label>
      <div class="input">
        <input type="password" matInput formControlName="password" />
        <mat-icon *ngIf="password?.valid && password?.touched"
          >check_circle</mat-icon
        >
      </div>
      <mat-error *ngIf="password?.invalid && password?.touched">
        <mat-error *ngIf="password?.errors?.['required']">
          Password is required
        </mat-error>
        <mat-error *ngIf="password?.errors?.['minlength']">
          Minminum 5 characters
        </mat-error>
      </mat-error>
    </mat-form-field>
    <!--Verify Password-->
    <mat-form-field appearance="outline">
      <mat-label>Verify Password</mat-label>
      <div class="input">
        <input type="password" matInput formControlName="verifyPassword" />
        <mat-icon *ngIf="verifyPassword?.valid && verifyPassword?.touched"
          >check_circle</mat-icon
        >
      </div>
      <mat-error *ngIf="verifyPassword?.invalid && verifyPassword?.touched">
        <mat-error *ngIf="verifyPassword?.errors?.['required']">
          Verify password is required
        </mat-error>
        <mat-error *ngIf="verifyPassword?.errors?.['verifyPassword']">
          Password does not match
        </mat-error>
      </mat-error>
    </mat-form-field>
    <button
      mat-raised-button
      [disabled]="signUpForm.invalid"
      color="primary"
      type="submit"
    >
      Sign Up
    </button>
  </form>
  <div class="loading" *ngIf="pending">
    <mat-spinner></mat-spinner>
  </div>
</mat-dialog-content>
